
### 출퇴근 근태 관리를 하는 프로그램이다.

배 설계 도면을 만드는 회사임

프론트 엔드 :  일렉트론  →  리엑트

백엔드 : 노드 익스프레스 → mysql 

### 공통

### 로그인

- 아이디를 입력해서 로그인을 하는 기능
    - [x]  어드민 로그인 (ADMIN)
    - [x]  사원 로그인 (사번)

### 사원

- 현재 로그인된 상태를 보는 기능

### 업무 내역

- 그날의 업무 내역을 입력하는 기능 ( MAIN )
    
    업무 내역
    
    → 사번 입력 ( 기본정보 불러오고 ) → 날짜입력 → 시수입력 (시작시간은 9시 ) → 선종,호선,블럭 조회 ( 선택) → 표준시수 실적시수 조회 확인 → 본인 실적 시수 입력 → 제출
    
    - [x]  업무 내역을 입력하는 기능
        - [x]  기본 정보를 저장해서 불러오는 기능 ( 상태 관리 )
        - [x]  선종을 불러 오는 기능
            - [x]  호선을 불러오는 기능
                - [x]  블럭을 불러오는 기능
                - [x]  블럭을 불러오는 기능을 (블럭 입력 날짜) 최신순 넣은 순으로 정렬한다.
        - [x]  표준 시수 실적 시수를 크게 확인 할 수 있도록
        - [x]  본인 실적 시수를 입력할 수 있는 기능
        
        - [x]  오늘 한 업무내역을 불러오는 기능
        
    - [x]  업무내역 입력 조건
        - [x]  카운트는 0.5씩 오르는걸로 한다.
        - [x]  하루 최대 투입 시수가 8시간이 되게 한다.
        - [x]  야근 시수는 6시간이 최대
        - [x]  날짜 변경은 최대 2틀로 할 수 있습니다.
            - [x]  금일 시수 확인 기능
    
    - [x]  업무 내역을 확인하는 기능
        - [x]  월별 일일 업무 내역을 확인 하는 기능

### 관리자

### 조선소 블럭 관리

- 조선소를 추가하는 기능  → 호선을 추가 하는 기능
    
    조선소 : 선체 회사 배 회사를 뜻함 (코드 데이터로 관리)
    
    호선 : 선체를 이루는 호선을 뜻함 
    
    - [x]  선체를 추가하는 기능
- 블럭을 추가하는 기능 ( +표준시수 추가 )
    
    블럭 : 호선을 이루는 부분  ( 설계도가 있음 )
    
    - [x]  블럭을 추가하는 기능
- 블럭을 조회 하는 기능
    - [x]  블럭내역을 조회 하는 기능
- 블럭이 일이 끝났는지 확인하는 기능
    - [x]  블럭의 일을 끝내는 기능

### 업무조회

- 업무 내역을 조회 하는 기능 #WorkRecord
    - [x]  업무 내역을 선체 기준으로 조회 하는 기능
        - [x]  업무 내역을 블럭 기준으로 조회 하는 기능
        - [x]  업무 내역을 블럭 번호로 불러오는 기능
            - [x]  조인문 짜야 하네
        - [x]  업무 내역 css 꾸미기
    - [x]  Think ) 블럭 기준 완료된 ( 표준시수가 다 채워진 업무 ) 블럭은 어떻게 할 것인가?
- 업무 내역을 엑셀로 내보내는 기능
    - [x]  Sheet.js 공부 하기
    - [x]  월 별로 모든 데이터 뽑아 내기 ( 선체를 기준으로 )
    - [x]  월 별로 모든 데이터 뽑아 내기 ( 블럭을 기준으로 )

- 월 별 업무 기록 조회 하기
    
    → 업무 기록 내역에서 뽑아 오는 과정
    
    1. Month에 따른 업무 기록을 가져 온다.
    2. 블럭 번호로 정렬 한다.
    3. BLK 기록의 업무를 정리한다.
        1. 업무 내용?
        2. 업무 상세 내용?
    4. 업무별 투입시수를 정리한다.
    5. 날짜별 투입 시수를 정리한다.
    
    → 총 정리된 데이터를 블럭 별로 렌더링 해준다.
    

### 사원관리

- 신규 사원 추가 #InputEmployee
    - [x]  사원을 추가하는 기능
    - [ ]  기존 사원 정보를 수정 하는 기능

- [x]  데이버 베이스 설계
    - [x]  요구사항 기술서 작성
    - [x]  요구사항 정리
    - [x]  관계정리 (new!)
    - [x]  ERD설계.. (new!)
    - [x]  업무 E 다시 설계
    - [x]  MySql 넣기
    - [x]  새로운 요구사항으로 다시 만들기

- [x]  프론트 설계
    - [x]  마크업 하기
    - [x]  페이지 설정
        - [x]  어드민 페이지
        - [x]  emp 페이지
        - [x]  메인 페이지 설정
            - [x]  로그인 폼 메인 페이지 컴포넌트로 분리 하기
    - [x]  context api 설정하기
    
    페이지 별 기능 개발
    
- [x]  electron 공부
    - [x]  IPC 통신 공부하기
        
        [https://dar0m.tistory.com/233](https://dar0m.tistory.com/233)
        
    - [x]  devDependency
    - [x]  react랑 연동하기
    - [x]  db연결하기
- [x]  UI 설계
    - [x]  화면 설계
    - [x]  기능 정의

- [x]  시나리오 정리
    - [x]  관리자 시나리오 정리
    - [x]  사원 시나리오 정리

- [x]  백엔드 설계
    - [x]  라우트 분리
    - [x]  api url 문서 작성
    - [x]  api 기능 개발
        - [x]  emp
        - [x]  admin
    

1.06

### 사원

- [x]  업무 외 선체 → 기타 업무로 변경

### 관리자

- [x]  선체 기준 BLK 총합 리스트 추가
    - [x]  선체 하나 선택 → blk 나열 → 업무 에 따른 모든 시간 총합 나타내기
    
- [x]  sheet js ⇒ 엑셀 파일로 내보내기
    1. 월별 업무 기록
    2. 사원 별 업무 기록
    3. ~~블럭 별 업무 기록~~
    4. 선체 별 업무 기록

---

### 사원

- [x]  날짜 place holder 수정하기
- [x]  월별 기록에서 투입 시수 총합 넣기
- [x]  shipyard - hull type - hull no - blk no 순서로 바꾸기
- [x]  hull complete 되면 목록에서 제거 하기
- [x]  업무 블럭 ⇒ 본작업, 개정 작업 업무만 나오게 만들기
- [x]  배경 화면 배나 고래사진으로 변경하기

### 관리자

- [x]  호선별 업무 내역 Excel 파일로 내보내기 기능
- [x]  Excel 파일에서 호선별로 Sort 하기
- [x]  레이아웃 수정하기

- [x]  회사명 고치기 : 하나 E&T

---

사월 업무 내역 리스트 목록 바꾸기

- [x]  Nodejs 윈도우 서비스로 서버 자동 실행 시켜주기
- [x]  sheet js ⇒ 엑셀 파일로 내보내기
    - [x]  복잡한 엑셀 파일 내보내기 공부하기
    1. ~~월별 업무 기록~~
    2. 사원 별 업무 기록
    3. ~~블럭 별 업무 기록~~
    4. 선체 별 업무 기록\

| WORK_LIST | DATE_LIST | BLK_SQ | BLK_NO | HULL_SQ | HULL_NO | HULL_TYPE | SHIPYARD | SUM_INP_MH | SUM_OVER_MH | RES_MH | NORM_MH |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
|  |  | 5 | B18P | 5 | 8023 | VLCC | HSHI | 47 | 4 | 61 | 181 |
|  |  | 4 | A20 | 3 | 8007 | LNG | HSI | 13 | 0 | 20.5 | 100 |
|  |  | 3 | D28E | 5 | 8023 | VLCC | HSHI | 33.5 | 0 | 37.5 | 200 |
|  |  | 2 | B18P | 2 | HMD | 50K PC | HMD | 9.5 | 3 | 105 | 120 |
|  |  | 1 | 기타 업무 | 1 | 기타 업무 | 기타 업무 | 기타 업무 | 36 | 0 | 60 | 0 |

→ 이걸 어떻게 정리 해야 할까…

- 모든 리스트를 json 파일로 합쳐보기

- 모든 헤더가 합쳐지고 그에 맞는 결과가 엑셀 파일로 나온다.

- [x]  업무 리스트 수정
- [x]  휴식 블럭 → 기타 업무로 수정

### 전체

- [x]  CSS 레이아웃 꾸미기
    - [x]  사원
    - [x]  관리자

### 사원

- [x]  사원 리스트에서 ( `날짜 항목` ) 을 최상단으로 옮기기
- [x]  기타 업무 select에서 BLK 이름을 → **`기타업무`** 로 퉁치기
- [x]  사원 리스트 월 별 업무를 antd 리스트로 수정하기

### 관리자

- [x]  리스트 → 날짜 항목 을 최상단으로 옮기기
- [x]  `조선소` , `선체번호`, `블럭번호`, **`선체종류`** 영어로 변경하기
    - [x]  하는 김에 상수로 리펙토링 하기
- [x]  선체 완료 선택 하는 기능 → complete 눌리기
